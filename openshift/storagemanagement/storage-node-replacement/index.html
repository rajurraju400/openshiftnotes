
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for OpenShift installation, backup, storage, troubleshooting, and more.">
      
      
        <meta name="author" content="venkatapathirajr">
      
      
      
        <link rel="prev" href="../ceph-rebalanceissue/">
      
      
        <link rel="next" href="../one-OSD-not-created/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Storage Node Replacement - OpenShift Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Red+Hat+Text:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Red Hat Text";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/redhat-style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#storage-node-replacement" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="OpenShift Notes" class="md-header__button md-logo" aria-label="OpenShift Notes" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenShift Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Storage Node Replacement
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OpenShift Notes" class="md-nav__button md-logo" aria-label="OpenShift Notes" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    OpenShift Notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Git Helper
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Git Helper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../git-helper/ncd-git-backup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git Backup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../git-helper/ncd-git-restore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git Restore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deployment Scripts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Deployment Scripts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../git-helper/Deployment/backupconfig.sh" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backup Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../git-helper/Deployment/newgitserver.sh" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New Git Server (v1)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../git-helper/Deployment/git-server-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GIT deployment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OpenShift
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            OpenShift
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Project Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Project Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../projectmanagement/scope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scope of work
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deployment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/automation/nokia-site-config-fixes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nokia Automation Tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            User Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usermanagement/remove-kubeadmin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Remove Kubeadmin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usermanagement/user-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Backup & Restore
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Backup & Restore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backup-restore/ACM-GEO-RED/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ACM GEO Red
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backup-restore/ACM-localbackup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ACM Local Backup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backup-restore/AWS-S3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS S3 Backup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backup-restore/etcd-backup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ETCD Backup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backup-restore/etcd-restore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ETCD Restore
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Intergrations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Intergrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Intergration/syslog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clusterlogging
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Maintenance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Maintenance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../maintenace/cluster-stop-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cluster Stop/Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../maintenace/reboot-nodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reboot Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../maintenace/openshift_scalein_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NMC/NWC Scale-In Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../maintenace/openshift_scaleout_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NMC/NWC Scale-Out Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Networking
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Networking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/metalb-troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MetalLB Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/metallb-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MetalLB Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" checked>
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Storage Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            Storage Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ceph-rebalanceissue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph Rebalance Issue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Storage Node Replacement
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Storage Node Replacement
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#delete-the-storage-node" class="md-nav__link">
    <span class="md-ellipsis">
      Delete the storage node
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../one-OSD-not-created/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph OSD recreate
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/nsenter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nsenter Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/ncomsa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCOM Caas Issue
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Disaster Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            Disaster Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../disaster-management/infra-manager-redeployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Infra-Manager node reinstallation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../disaster-management/hub-cluster-redeployment/master-replacment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hub Cluster Master-replacement
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MACD Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            MACD Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MACD Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            MACD Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/MACD-management/scope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scope of work
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CNF Onboarding Support
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            CNF Onboarding Support
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/image-tls-issue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Image TLS Issue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/oclogin-tls-issue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OCLogin TLS Issue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/proxy-cache-pod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Proxy Cache Pod
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/rolebinding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Role Allocation for CNF user
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/Failtoconfigure_nncp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Failed to configure or Degraded
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/kubeconfig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubeconfig overlapping
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/NCP-default-usersandrole/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCP Standard user and role Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/ts-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cluster Wide TS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/istio-for-cnf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Istio for CNF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/restrict-project-creation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Removing Self-Provisioner Access
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/configure_openshift_tenable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nessus Security Access
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/createlabelpostinstall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating labels post installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/Static-route/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OCP route ingress and egress
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-support/ocp_rbac_option1_with_sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LDAP Intergration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CNF Onboarding Prerequisites
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            CNF Onboarding Prerequisites
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-prerequisites/NCOM.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCOM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-prerequisites/NCD.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-prerequisites/NCC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../MACD-Operations/CNF-onboarding-prerequisites/CMG.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CMG
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#delete-the-storage-node" class="md-nav__link">
    <span class="md-ellipsis">
      Delete the storage node
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="storage-node-replacement">Storage node replacement<a class="headerlink" href="#storage-node-replacement" title="Permanent link">&para;</a></h1>
<h2 id="delete-the-storage-node">Delete the storage node<a class="headerlink" href="#delete-the-storage-node" title="Permanent link">&para;</a></h2>
<p>1) Show the initial status of the storage nodes in the managed cluster (output of oc get nodes) and identify which node will be removed, e.g. storage-0.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ vlabrc</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">oc</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="o">|</span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">storage</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">25</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">102.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">27</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">103.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">27</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">201.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">25</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">202.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">27</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">203.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">27</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ vlabrc</span><span class="o">]</span><span class="err">#</span>
</code></pre></div>

<p>2) Verify the ceph health status</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">dom14npv101</span><span class="o">-</span><span class="n">infra</span><span class="o">-</span><span class="n">manager</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">vlabrc</span><span class="p">]</span><span class="c1"># oc exec -it $(oc get pod -n openshift-storage -l app=rook-ceph-operator -o name) -n openshift-storage -- ceph -s -c /var/lib/rook/openshift-storage/openshift-storage.config</span>
<span class="w">  </span><span class="n">cluster</span><span class="p">:</span>
<span class="w">    </span><span class="n">id</span><span class="p">:</span><span class="w">     </span><span class="n">a2b0c334</span><span class="o">-</span><span class="n">ba7c</span><span class="o">-</span><span class="mi">4</span><span class="n">ae1</span><span class="o">-</span><span class="n">b3f5</span><span class="o">-</span><span class="n">c6d514f19bec</span>
<span class="w">    </span><span class="n">health</span><span class="p">:</span><span class="w"> </span><span class="n">HEALTH_OK</span>

<span class="w">  </span><span class="n">services</span><span class="p">:</span>
<span class="w">    </span><span class="n">mon</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">daemons</span><span class="p">,</span><span class="w"> </span><span class="n">quorum</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">h</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="mi">21</span><span class="n">h</span><span class="p">)</span>
<span class="w">    </span><span class="n">mgr</span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="n">active</span><span class="p">,</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="mi">21</span><span class="n">h</span><span class="p">),</span><span class="w"> </span><span class="n">standbys</span><span class="p">:</span><span class="w"> </span><span class="n">b</span>
<span class="w">    </span><span class="n">mds</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w"> </span><span class="n">daemons</span><span class="w"> </span><span class="n">up</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">hot</span><span class="w"> </span><span class="n">standby</span>
<span class="w">    </span><span class="n">osd</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="w"> </span><span class="n">osds</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="p">(</span><span class="n">since</span><span class="w"> </span><span class="mi">21</span><span class="n">h</span><span class="p">),</span><span class="w"> </span><span class="mi">48</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p">(</span><span class="n">since</span><span class="w"> </span><span class="mi">23</span><span class="n">h</span><span class="p">)</span>
<span class="w">    </span><span class="n">rgw</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">daemon</span><span class="w"> </span><span class="n">active</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">hosts</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">zones</span><span class="p">)</span>

<span class="w">  </span><span class="n">data</span><span class="p">:</span>
<span class="w">    </span><span class="n">volumes</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w"> </span><span class="n">healthy</span>
<span class="w">    </span><span class="n">pools</span><span class="p">:</span><span class="w">   </span><span class="mi">12</span><span class="w"> </span><span class="n">pools</span><span class="p">,</span><span class="w"> </span><span class="mi">1097</span><span class="w"> </span><span class="n">pgs</span>
<span class="w">    </span><span class="n">objects</span><span class="p">:</span><span class="w"> </span><span class="mf">190.32</span><span class="n">k</span><span class="w"> </span><span class="n">objects</span><span class="p">,</span><span class="w"> </span><span class="mi">393</span><span class="w"> </span><span class="n">GiB</span>
<span class="w">    </span><span class="n">usage</span><span class="p">:</span><span class="w">   </span><span class="mf">1.2</span><span class="w"> </span><span class="n">TiB</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="mi">278</span><span class="w"> </span><span class="n">TiB</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">279</span><span class="w"> </span><span class="n">TiB</span><span class="w"> </span><span class="n">avail</span>
<span class="w">    </span><span class="n">pgs</span><span class="p">:</span><span class="w">     </span><span class="mi">1097</span><span class="w"> </span><span class="n">active</span><span class="o">+</span><span class="n">clean</span>

<span class="w">  </span><span class="n">io</span><span class="p">:</span>
<span class="w">    </span><span class="n">client</span><span class="p">:</span><span class="w">   </span><span class="mf">8.7</span><span class="w"> </span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="w"> </span><span class="n">rd</span><span class="p">,</span><span class="w"> </span><span class="mf">9.9</span><span class="w"> </span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="w"> </span><span class="n">wr</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="n">op</span><span class="o">/</span><span class="n">s</span><span class="w"> </span><span class="n">rd</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="n">op</span><span class="o">/</span><span class="n">s</span><span class="w"> </span><span class="n">wr</span>

<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">dom14npv101</span><span class="o">-</span><span class="n">infra</span><span class="o">-</span><span class="n">manager</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">vlabrc</span><span class="p">]</span><span class="c1">#</span>
</code></pre></div>

<p>3) Identify the monitor pod (if any), and OSDs that are running in the node that you need to replace:</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">dom14npv101</span><span class="o">-</span><span class="n">infra</span><span class="o">-</span><span class="n">manager</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">vlabrc</span><span class="p">]</span><span class="c1"># oc get pods -n openshift-storage -o wide | grep -i ncpvnpvlab1-storage-101.ncpvnpvlab1.pnwlab.nsn-rdnet.net  |grep -i rook-ceph</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">crashcollector</span><span class="o">-</span><span class="mi">73</span><span class="n">c0594e536089af81dd498574227f77</span><span class="o">-</span><span class="mi">94</span><span class="n">vtt</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">21</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.41</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">exporter</span><span class="o">-</span><span class="mi">73</span><span class="n">c0594e536089af81dd498574227f77</span><span class="o">-</span><span class="mi">754</span><span class="n">b5866njj</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">21</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.42</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">mds</span><span class="o">-</span><span class="n">ocs</span><span class="o">-</span><span class="n">storagecluster</span><span class="o">-</span><span class="n">cephfilesystem</span><span class="o">-</span><span class="n">a</span><span class="o">-</span><span class="mi">795996</span><span class="n">f7lvsqs</span><span class="w">   </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.21</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">mds</span><span class="o">-</span><span class="n">ocs</span><span class="o">-</span><span class="n">storagecluster</span><span class="o">-</span><span class="n">cephfilesystem</span><span class="o">-</span><span class="n">b</span><span class="o">-</span><span class="mi">78</span><span class="n">f7bbf8c2hhg</span><span class="w">   </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.22</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">mgr</span><span class="o">-</span><span class="n">b</span><span class="o">-</span><span class="mi">5468</span><span class="n">b7cf</span><span class="o">-</span><span class="n">fmwnp</span><span class="w">                                    </span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.7</span><span class="w">      </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">mon</span><span class="o">-</span><span class="n">f</span><span class="o">-</span><span class="mi">54</span><span class="n">d858f9cd</span><span class="o">-</span><span class="n">m5q76</span><span class="w">                                  </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.8</span><span class="w">      </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">7</span><span class="n">bc4cf5ccd</span><span class="o">-</span><span class="mi">4</span><span class="n">lxjr</span><span class="w">                               </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.39</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">14</span><span class="o">-</span><span class="mi">6</span><span class="n">df66b8b99</span><span class="o">-</span><span class="n">nmgvq</span><span class="w">                                 </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.9</span><span class="w">      </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">21</span><span class="o">-</span><span class="mi">86</span><span class="n">cd6b7f7f</span><span class="o">-</span><span class="mi">498</span><span class="n">vh</span><span class="w">                                 </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.12</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">28</span><span class="o">-</span><span class="mi">698</span><span class="n">bb96856</span><span class="o">-</span><span class="n">vmr8t</span><span class="w">                                 </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.11</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">34</span><span class="o">-</span><span class="mi">5</span><span class="n">f49bdbb85</span><span class="o">-</span><span class="n">f528w</span><span class="w">                                 </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.15</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="mi">7495</span><span class="n">d5f559</span><span class="o">-</span><span class="n">zccrg</span><span class="w">                                  </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.34</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">41</span><span class="o">-</span><span class="mi">689699</span><span class="n">f766</span><span class="o">-</span><span class="n">clfzm</span><span class="w">                                 </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.17</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">44</span><span class="o">-</span><span class="mi">94</span><span class="n">c7c6565</span><span class="o">-</span><span class="n">cz8wg</span><span class="w">                                  </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.16</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">9</span><span class="o">-</span><span class="mi">6</span><span class="n">b966dc5db</span><span class="o">-</span><span class="mi">28595</span><span class="w">                                  </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.18</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">rgw</span><span class="o">-</span><span class="n">ocs</span><span class="o">-</span><span class="n">storagecluster</span><span class="o">-</span><span class="n">cephobjectstore</span><span class="o">-</span><span class="n">a</span><span class="o">-</span><span class="mi">788</span><span class="n">d79bdrltz</span><span class="w">   </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.38</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">tools</span><span class="o">-</span><span class="mi">6</span><span class="n">f854c4bfc</span><span class="o">-</span><span class="n">wqhm7</span><span class="w">                                  </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">             </span><span class="mi">22</span><span class="n">h</span><span class="w">   </span><span class="mf">172.28</span><span class="o">.</span><span class="mf">18.30</span><span class="w">     </span><span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="o">.</span><span class="n">pnwlab</span><span class="o">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="o">.</span><span class="n">net</span><span class="w">   </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w">           </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">dom14npv101</span><span class="o">-</span><span class="n">infra</span><span class="o">-</span><span class="n">manager</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">vlabrc</span><span class="p">]</span><span class="c1">#</span>
</code></pre></div>

<p>4) Scale down the deployments of the pods identified in the previous step: (mon, osd, crashcollector)</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ vlabrc</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">crashcollector</span><span class="w"> </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">mgr</span><span class="o">-</span><span class="n">b</span><span class="w">  </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">mon</span><span class="o">-</span><span class="n">f</span><span class="w">  </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">14</span><span class="w"> </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">21</span><span class="w"> </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">34</span><span class="w"> </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">4</span><span class="w">  </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">41</span><span class="w"> </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">44</span><span class="w"> </span><span class="c1">--replicas=0</span>
<span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">openshift</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">9</span><span class="w">  </span><span class="c1">--replicas=0</span>
<span class="nl">error</span><span class="p">:</span><span class="w"> </span><span class="k">no</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">scale</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">mgr</span><span class="o">-</span><span class="n">b</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">mon</span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">14</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">21</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">34</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">41</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">44</span><span class="w"> </span><span class="n">scaled</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">rook</span><span class="o">-</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">-</span><span class="mi">9</span><span class="w"> </span><span class="n">scaled</span>
<span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ vlabrc</span><span class="o">]</span><span class="err">#</span>
</code></pre></div>

<p>5) Add the following Annotation for node deletion in the siteconfig.yaml (add crsuppression and crannotation both)</p>
<p>6) To initiate the automated deletion process, begin by deleting the BMH CR of the control plane node that has been previously annotated with the specific crAnnotation.</p>
<p>7) Add crSuppression to SiteConfig so that node will be removed from the cluster. Note that you need to keep the crAnnotation on the node.</p>
<div class="codehilite"><pre><span></span><code>      - hostName: &quot;ncpvnpvlab1-storage-101.ncpvnpvlab1.pnwlab.nsn-rdnet.net&quot;
        role: &quot;worker&quot;
        crSuppression:
        - BareMetalHost
        crAnnotations:
          add:
          BareMetalHost:
            bmac.agent-install.openshift.io/remove-agent-and-node-on-delete: true
</code></pre></div>

<p>8) Git add/commit/push the SiteConfig.yaml, so that ArgoCD syncs the updated SiteConfig to the Hub Cluster 
    a. The BMH on Hub cluster should start showing updated status that the node is being deprovisioning. This status change indicates that the node is undergoing the deprovisioning process, a necessary step before its complete removal.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ hubrc</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">oc</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">bmh</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">ncpvnpvlab1</span><span class="w"> </span><span class="o">|</span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">storage</span><span class="o">-</span><span class="mi">101</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">deprovisioning</span><span class="w">              </span><span class="k">true</span><span class="w">             </span><span class="mi">60</span><span class="n">m</span>
<span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ hubrc</span><span class="o">]</span><span class="err">#</span>
</code></pre></div>

<p>9) Cluster Administrators should wait for the BMH to finish deprovisioning and be fully deleted from the cluster environment. After ~10 minutes (this might take longer or shorter depending on your environment to complete the node clean up):
    a. The storage node storage-0 is powered off
    b. The BMH resource of the replaced node is deleted on the Hub Cluster.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ vlabrc</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">oc</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">bmh</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">ncpvnpvlab1</span><span class="w"> </span><span class="o">|</span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">storage</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">102.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">provisioned</span><span class="w">              </span><span class="k">true</span><span class="w">             </span><span class="mi">27</span><span class="n">d</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">103.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">provisioned</span><span class="w">              </span><span class="k">true</span><span class="w">             </span><span class="mi">27</span><span class="n">d</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">201.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">provisioned</span><span class="w">              </span><span class="k">true</span><span class="w">             </span><span class="mi">25</span><span class="n">d</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">202.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">provisioned</span><span class="w">              </span><span class="k">true</span><span class="w">             </span><span class="mi">27</span><span class="n">d</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">203.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">provisioned</span><span class="w">              </span><span class="k">true</span><span class="w">             </span><span class="mi">27</span><span class="n">d</span>
<span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ vlabrc</span><span class="o">]</span><span class="err">#</span>
</code></pre></div>

<p>10)  oc get node on cluster shows that the node storage-101 is no longer part of the cluster, only 2 storage nodes remain</p>
<p>ncpvnpvlab1-storage-101.ncpvnpvlab1.pnwlab.nsn-rdnet.net  ---&gt; still part of it. </p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ vlabrc</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">oc</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="o">|</span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">storage</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">101.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">25</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">102.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">27</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">103.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">27</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">201.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">25</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">202.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">27</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="n">ncpvnpvlab1</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="mf">203.</span><span class="n">ncpvnpvlab1</span><span class="p">.</span><span class="n">pnwlab</span><span class="p">.</span><span class="n">nsn</span><span class="o">-</span><span class="n">rdnet</span><span class="p">.</span><span class="n">net</span><span class="w">   </span><span class="n">Ready</span><span class="w">    </span><span class="n">storage</span><span class="p">,</span><span class="n">worker</span><span class="w">                     </span><span class="mi">27</span><span class="n">d</span><span class="w">   </span><span class="n">v1</span><span class="mf">.29.10</span><span class="o">+</span><span class="mi">67</span><span class="n">d3387</span>
<span class="o">[</span><span class="n">root@dom14npv101-infra-manager ~ vlabrc</span><span class="o">]</span><span class="err">#</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../../js/auth.js"></script>
      
    
  </body>
</html>